<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>

<AnchorPane xmlns="http://javafx.com/javafx/17"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.ucop.edu.controller.StudentReturnRequestController"
            style="-fx-background-color: #eef2f7;">

    <children>
        <VBox spacing="16"
              AnchorPane.topAnchor="18" AnchorPane.leftAnchor="18"
              AnchorPane.rightAnchor="18" AnchorPane.bottomAnchor="18">

            <HBox alignment="CENTER_LEFT">
                <Label text="ðŸ§ YÃªu cáº§u hoÃ n tiá»n / hoÃ n Ä‘á»•i"
                       style="-fx-text-fill:#0f172a; -fx-font-weight: 800;">
                    <font><Font size="22"/></font>
                </Label>
                <Region HBox.hgrow="ALWAYS"/>
                <Button text="â†» LÃ m má»›i" onAction="#handleRefresh"
                        style="-fx-background-color: #e5e7eb;
                               -fx-text-fill: #111827;
                               -fx-background-radius: 10;
                               -fx-padding: 8 14;
                               -fx-font-weight: 700;
                               -fx-cursor: hand;"/>
            </HBox>

            <Label fx:id="lblMsg" text="" wrapText="true"
                   style="-fx-font-weight:700;"/>

            <VBox spacing="12"
                  style="-fx-background-color: white;
                         -fx-background-radius: 14;
                         -fx-padding: 18;
                         -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.10), 12, 0, 0, 2);">

                <GridPane hgap="14" vgap="10">
                    <columnConstraints>
                        <ColumnConstraints minWidth="170" prefWidth="200"/>
                        <ColumnConstraints minWidth="320" prefWidth="420"/>
                        <ColumnConstraints minWidth="120" prefWidth="140"/>
                        <ColumnConstraints minWidth="180" prefWidth="220"/>
                    </columnConstraints>

                    <Label text="Chá»n Ä‘Æ¡n (Order):" GridPane.rowIndex="0" GridPane.columnIndex="0"/>
                    <ComboBox fx:id="cbOrder" prefWidth="420"
                              GridPane.rowIndex="0" GridPane.columnIndex="1"/>

                    <Label text="Loáº¡i yÃªu cáº§u:" GridPane.rowIndex="0" GridPane.columnIndex="2"/>
                    <ComboBox fx:id="cbType" prefWidth="180"
                              GridPane.rowIndex="0" GridPane.columnIndex="3"/>

                    <Label text="Sá»‘ tiá»n hoÃ n (khÃ´ng báº¯t buá»™c):" GridPane.rowIndex="1" GridPane.columnIndex="0"/>
                    <TextField fx:id="txtAmount" promptText="Äá»ƒ trá»‘ng = FULL/AUTO"
                               GridPane.rowIndex="1" GridPane.columnIndex="1" GridPane.columnSpan="3"/>

                    <Label text="LÃ½ do:" GridPane.rowIndex="2" GridPane.columnIndex="0"/>
                    <TextArea fx:id="txtReason" prefRowCount="2"
                              promptText="LÃ½ do hoÃ n tiá»n/Ä‘á»•i khÃ³a..."
                              GridPane.rowIndex="2" GridPane.columnIndex="1" GridPane.columnSpan="3"/>
                </GridPane>

                <HBox alignment="CENTER_RIGHT">
                    <Button text="Gá»­i yÃªu cáº§u" onAction="#handleSubmit"
                            style="-fx-background-color:#2563eb;
                                   -fx-text-fill:white;
                                   -fx-background-radius:10;
                                   -fx-padding: 9 18;
                                   -fx-font-weight: 800;
                                   -fx-cursor: hand;"/>
                </HBox>
            </VBox>

            <Label text="ðŸ“Œ Lá»‹ch sá»­ yÃªu cáº§u cá»§a báº¡n"
                   style="-fx-text-fill:#0f172a; -fx-font-weight: 800;">
                <font><Font size="16"/></font>
            </Label>

            <TableView fx:id="tblRequests" prefHeight="420"
           style="-fx-background-color: white;
                  -fx-background-radius: 14;
                  -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.08), 10, 0, 0, 2);">
    <columnResizePolicy>
        <TableView fx:constant="CONSTRAINED_RESIZE_POLICY"/>
    </columnResizePolicy>

                <columns>
                    <TableColumn fx:id="colId" text="MÃ£ yÃªu cáº§u" prefWidth="90"/>
                    <TableColumn fx:id="colOrderCode" text="MÃ£ Ä‘Æ¡n" prefWidth="120"/>
                    <TableColumn fx:id="colType" text="Loáº¡i" prefWidth="110"/>
                    <TableColumn fx:id="colStatus" text="Tráº¡ng thÃ¡i" prefWidth="150"/>
                    <TableColumn fx:id="colAmount" text="Sá»‘ tiá»n hoÃ n" prefWidth="160"/>
                    <TableColumn fx:id="colCreatedAt" text="Thá»i gian gá»­i" prefWidth="190"/>
                </columns>
            </TableView>

        </VBox>
    </children>
</AnchorPane>
